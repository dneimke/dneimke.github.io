<html>
<head>
    <title>Building ASPNet Core projects with MSBuild</title>
    <style type="text/css">
        img {
            width: 70%;
            margin-left: 30px;
        }
    </style>
</head>
<body>
    
    <h1>New csproj format for ASPNetCore projects</h1>
    
    <p>
        These notes are relevant to the <a href="https://blogs.msdn.microsoft.com/dotnet/2016/12/12/updating-visual-studio-2017-rc-net-core-tooling-improvements/">new format</a>.
    </p>

<p>Open solution in VS2017 and Build</p>

<img src="/aspnet_msbuild/2017-01-14_18-45-41.png" alt="Build from within VS2017" />

<p>Solution builds OK</p>

<img src="/aspnet_msbuild/2017-01-14_18-46-19.png" alt="Build from within VS2017" />

<p>Run MSBuild from root folder of API project</p>

<img src="/aspnet_msbuild/2017-01-14_18-47-02.png" alt="Build from within VS2017" />

<p>Errors abound!</p>

<p>Add schema</p>

<img src="/aspnet_msbuild/add_schema.PNG" alt="Build from within VS2017" />

<p>New errors</p>
    
<img src="/aspnet_msbuild/new_errors.png" alt="Build from within VS2017" />
    
<p>Locate the VS2017 folder and add to PATH (to access MSBuild 15)</p>
    
<img src="/aspnet_msbuild/v15folder.png" alt="MSBuild 15 path" />
    
<p>After adding to PATH, open new console and run MSBuild</p>
    
<img src="/aspnet_msbuild/success.png" alt="Success!" />
    
    <p>Success!</p>

</body>
</html>
